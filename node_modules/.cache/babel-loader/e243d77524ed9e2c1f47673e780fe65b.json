{"ast":null,"code":"var _jsxFileName = \"/Users/fusion/Development/challenges/assessment-cc-react-sr-01/src/pages/battle-of-monsters/BattleOfMonsters.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { MonsterBattleCard } from \"../../components/monster-battle-card/MonsterBattleCard\";\nimport { MonstersList } from \"../../components/monsters-list/MonstersList\";\nimport { Title } from \"../../components/title/Title\";\nimport { fetchBattleResult, fetchMonstersData, setComputersMonster } from \"../../reducers/monsters/monsters.actions\";\nimport { selectBattleResult, selectComputersMonster, selectMonsters, selectSelectedMonster } from \"../../reducers/monsters/monsters.selectors\";\nimport { BattleSection, PageContainer, StartBattleButton } from \"./BattleOfMonsters.styled\";\n/*\n- Create the monster's card component\n- Implement a logic to select the computer's monster (random and differently to player's monter)\n- Enable the button after after monsters are selected and implement the api call to get the result \n- Display the result\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BattleOfMonsters = () => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const monsters = useAppSelector(selectMonsters);\n  const selectedMonster = useAppSelector(selectSelectedMonster);\n  const computerMonster = useAppSelector(selectComputersMonster);\n  const result = useAppSelector(selectBattleResult);\n  useEffect(() => {\n    dispatch(fetchMonstersData());\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(setComputersMonster());\n  }, [dispatch, selectedMonster]);\n\n  const handleStartBattleClick = () => {\n    if (selectedMonster && computerMonster) {\n      const payload = {\n        monster1Id: selectedMonster.id,\n        monster2Id: computerMonster.id\n      };\n      dispatch(fetchBattleResult(payload));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Battle of Monsters\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MonstersList, {\n      monsters: monsters\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), result && /*#__PURE__*/_jsxDEV(BattleResult, {\n      children: `${result.winner.name} wins!`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(BattleSection, {\n      children: [/*#__PURE__*/_jsxDEV(MonsterBattleCard, {\n        monster: selectedMonster,\n        title: (selectedMonster === null || selectedMonster === void 0 ? void 0 : selectedMonster.name) || \"Player\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StartBattleButton, {\n        \"data-testid\": \"start-battle-button\",\n        disabled: !selectedMonster && !computerMonster,\n        onClick: handleStartBattleClick,\n        children: \"Start Battle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MonsterBattleCard, {\n        monster: computerMonster,\n        title: \"Computer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BattleOfMonsters, \"WlKJHv4E2J0RdC5+xbtRVZZb3iE=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector, useAppSelector, useAppSelector];\n});\n\n_c = BattleOfMonsters;\nexport { BattleOfMonsters };\n\nvar _c;\n\n$RefreshReg$(_c, \"BattleOfMonsters\");","map":{"version":3,"names":["useEffect","useAppDispatch","useAppSelector","MonsterBattleCard","MonstersList","Title","fetchBattleResult","fetchMonstersData","setComputersMonster","selectBattleResult","selectComputersMonster","selectMonsters","selectSelectedMonster","BattleSection","PageContainer","StartBattleButton","BattleOfMonsters","dispatch","monsters","selectedMonster","computerMonster","result","handleStartBattleClick","payload","monster1Id","id","monster2Id","winner","name"],"sources":["/Users/fusion/Development/challenges/assessment-cc-react-sr-01/src/pages/battle-of-monsters/BattleOfMonsters.tsx"],"sourcesContent":["import { useEffect } from \"react\"\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\"\nimport { MonsterBattleCard } from \"../../components/monster-battle-card/MonsterBattleCard\"\nimport { MonstersList } from \"../../components/monsters-list/MonstersList\"\nimport { Title } from \"../../components/title/Title\"\nimport { MonsterBattlePayload } from \"../../models/interfaces/monster-battle-payload.interface\"\nimport { fetchBattleResult, fetchMonstersData, setComputersMonster } from \"../../reducers/monsters/monsters.actions\"\nimport { selectBattleResult, selectComputersMonster, selectMonsters, selectSelectedMonster } from \"../../reducers/monsters/monsters.selectors\"\nimport { BattleSection, PageContainer, StartBattleButton } from \"./BattleOfMonsters.styled\"\n\n\n/*\n- Create the monster's card component\n- Implement a logic to select the computer's monster (random and differently to player's monter)\n- Enable the button after after monsters are selected and implement the api call to get the result \n- Display the result\n*/\n\nconst BattleOfMonsters = () => {\n    const dispatch = useAppDispatch()\n\n    const monsters = useAppSelector(selectMonsters)\n    const selectedMonster = useAppSelector(selectSelectedMonster)\n    const computerMonster = useAppSelector(selectComputersMonster)\n    const result = useAppSelector(selectBattleResult)\n\n    useEffect(() => {\n        dispatch(fetchMonstersData())\n    }, [dispatch]);\n\n    useEffect(() => {\n        dispatch(setComputersMonster())\n    }, [dispatch, selectedMonster])\n\n    const handleStartBattleClick = () => {\n        if (selectedMonster && computerMonster) {\n            const payload: MonsterBattlePayload = {\n                monster1Id: selectedMonster.id,\n                monster2Id: computerMonster.id,\n            };\n            dispatch(fetchBattleResult(payload));\n        }\n    }\n\n    return (\n        <PageContainer>\n            <Title>Battle of Monsters</Title>\n\n            <MonstersList monsters={monsters} />\n\n            {result && <BattleResult>{`${result.winner.name} wins!`}</BattleResult>}\n\n            <BattleSection>\n                <MonsterBattleCard monster={selectedMonster} title={selectedMonster?.name || \"Player\"} />\n                <StartBattleButton data-testid=\"start-battle-button\" disabled={!selectedMonster && !computerMonster} onClick={handleStartBattleClick}>Start Battle</StartBattleButton>\n                <MonsterBattleCard monster={computerMonster} title=\"Computer\" />\n            </BattleSection>\n        </PageContainer>\n    )\n}\n\nexport { BattleOfMonsters }"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,iBAA/C;AACA,SAASC,iBAAT,QAAkC,wDAAlC;AACA,SAASC,YAAT,QAA6B,6CAA7B;AACA,SAASC,KAAT,QAAsB,8BAAtB;AAEA,SAASC,iBAAT,EAA4BC,iBAA5B,EAA+CC,mBAA/C,QAA0E,0CAA1E;AACA,SAASC,kBAAT,EAA6BC,sBAA7B,EAAqDC,cAArD,EAAqEC,qBAArE,QAAkG,4CAAlG;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,iBAAvC,QAAgE,2BAAhE;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,gBAAgB,GAAG,MAAM;EAAA;;EAC3B,MAAMC,QAAQ,GAAGhB,cAAc,EAA/B;EAEA,MAAMiB,QAAQ,GAAGhB,cAAc,CAACS,cAAD,CAA/B;EACA,MAAMQ,eAAe,GAAGjB,cAAc,CAACU,qBAAD,CAAtC;EACA,MAAMQ,eAAe,GAAGlB,cAAc,CAACQ,sBAAD,CAAtC;EACA,MAAMW,MAAM,GAAGnB,cAAc,CAACO,kBAAD,CAA7B;EAEAT,SAAS,CAAC,MAAM;IACZiB,QAAQ,CAACV,iBAAiB,EAAlB,CAAR;EACH,CAFQ,EAEN,CAACU,QAAD,CAFM,CAAT;EAIAjB,SAAS,CAAC,MAAM;IACZiB,QAAQ,CAACT,mBAAmB,EAApB,CAAR;EACH,CAFQ,EAEN,CAACS,QAAD,EAAWE,eAAX,CAFM,CAAT;;EAIA,MAAMG,sBAAsB,GAAG,MAAM;IACjC,IAAIH,eAAe,IAAIC,eAAvB,EAAwC;MACpC,MAAMG,OAA6B,GAAG;QAClCC,UAAU,EAAEL,eAAe,CAACM,EADM;QAElCC,UAAU,EAAEN,eAAe,CAACK;MAFM,CAAtC;MAIAR,QAAQ,CAACX,iBAAiB,CAACiB,OAAD,CAAlB,CAAR;IACH;EACJ,CARD;;EAUA,oBACI,QAAC,aAAD;IAAA,wBACI,QAAC,KAAD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAGI,QAAC,YAAD;MAAc,QAAQ,EAAEL;IAAxB;MAAA;MAAA;MAAA;IAAA,QAHJ,EAKKG,MAAM,iBAAI,QAAC,YAAD;MAAA,UAAgB,GAAEA,MAAM,CAACM,MAAP,CAAcC,IAAK;IAArC;MAAA;MAAA;MAAA;IAAA,QALf,eAOI,QAAC,aAAD;MAAA,wBACI,QAAC,iBAAD;QAAmB,OAAO,EAAET,eAA5B;QAA6C,KAAK,EAAE,CAAAA,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAES,IAAjB,KAAyB;MAA7E;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,iBAAD;QAAmB,eAAY,qBAA/B;QAAqD,QAAQ,EAAE,CAACT,eAAD,IAAoB,CAACC,eAApF;QAAqG,OAAO,EAAEE,sBAA9G;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI,QAAC,iBAAD;QAAmB,OAAO,EAAEF,eAA5B;QAA6C,KAAK,EAAC;MAAnD;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAeH,CAzCD;;GAAMJ,gB;UACef,c,EAEAC,c,EACOA,c,EACAA,c,EACTA,c;;;KANbc,gB;AA2CN,SAASA,gBAAT"},"metadata":{},"sourceType":"module"}